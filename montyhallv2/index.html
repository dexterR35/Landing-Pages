<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
      integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"
      integrity="sha512-3WFaXQUsbGieECwv3t3DvyAkZ7pp+/rIKOQnx7NKhfwIF0u2l+DYsE2eF635ewJVj3YTU4/Ug6UqEkSTZCiSew=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>mhv2</title>
    <style>
      *,
      *::after,
      *::before {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      @import url("https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap");
      :root {
        /* --orange: #f89e4f; */
        --button_color: #ff4c16;
        --modal-input: #333743;
        --modal-inputBg: #dbdbdb;

        --bg-white: #fff;
        --color-white: #fff;

        --border-input: #dadce0;
        --border-inputFocus: #1adae8;
        --border-error: #ff4c16;
        --border-active: #0abaff;
        /* --red: #f16164; */

        --h1-title: #ff4c16;

        --color-focusText: #333743;

        --neon-text-color: rgb(234, 238, 20);
        --neon-border-color: #08f;

        --transition-mask: 0.5s ease-out;
        --transition-input: ease 250ms;

        --letter_door: azure;
        --letter_pause: azure;

        /* --bg-doorInside: url({$asset}/img/INSIDE_V8.png);
    --bg-desktop: url({$asset}/bg-desktop.jpg);
    --bg-openDoor: url({$asset}/img/door_open2.png);

    --iFrame-doorLeft: url({$asset}/img/door_left2.png);
    --iFrame-doorCenter: url({$asset}/img/door_center3.png);
    --iFrame-doorRight: url({$asset}/img/door_right2.png);

    --img-speachBubble: url({$asset}/img/speachBubble.png);
    --img-astronaut: url({$asset}/img/astronaut2.png); */
      }

      body {
        /* height: 100vh;
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1400px; */
        /* height: 200vh; */
        font-family: "Play", sans-serif;
      }
      body::after {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url(./png/bg.jpg);
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        z-index: -1;
      }
      .seven {
        /* width: 30vh;
        height: 30vh; */
        background-image: url(./png/seven.png);
        background-position: center;
        background-repeat: no-repeat;
        background-size: 100%;
        z-index: 12;
        position: relative;
      }
      .app-main {
        /* width: 100%; */
        top: 18vh;
        left: -18vh;
        /* max-width: 1200px; */
        display: flex;
        flex-direction: column;
        align-items: center;
        /* z-index: 100; */
        position: relative;
        /* background: red; */
      }
      .wrapper-seven {
        position: relative;
        gap: 1em;
      }

      .wrapper-seven,
      .container-seven {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .container-seven {
        height: fit-content;
        position: relative;
        overflow: hidden;
      }
      .container-seven:hover {
        transform: scale(1.05);
        transition: transform 0.5s ease;
        cursor: pointer;
        mix-blend-mode: screen;
      }
      .swirl-top,
      .swirl-bottom {
        background-position: center;
        background-repeat: no-repeat;
        background-size: 110%;
        width: 40vh;
        height: 100%;
        mix-blend-mode: screen;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      .swirl-top {
        background-image: url(./png/swirl-top2.png);
        /* bottom: 55px; */
      }
      .swirl-bottom {
        background-image: url(./png/swirl-bottom2.png);
        /* top: 14.8vh; */
        z-index: 12;
      }
      .seven,
      .text-container {
        width: 38vh;
        height: 38vh;
      }
      .text-container {
        background-color: #fff;
        opacity: 0.5;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        color: #000;
        position: relative;
        z-index: 11;
        transform: translateY(100%);
        transition: transform 0.5s ease;
      }

      .move-down {
        position: absolute;
        bottom: 0;
        /* transform: translateY(100%); */
        transition: transform 0.5s ease;
      }

      /*bubble and girl*/
      /*bubble and girl*/
      /*bubble and girl*/

      .container-all {
        width: 100%;
        /* background: red; */
        display: flex;
        height: 100vh;
        align-items: center;
        justify-content: center;
      }
      .container-stuff {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
      }
      .container-girl {
        position: relative;
        left: -7em;
        top: 18vh;
      }
      .container-girl img {
        height: 95vh;
      }

      .container-bubble {
        position: absolute;
        top: -18%;
        left: 70%;
        width: 100%;
        /* height: 100%; */
        /* mix-blend-mode: screen; */
      }
      .bubble_instruction {
        position: absolute;
        top: 0vh;
        left: 9.5%;
        /* transform: translate(-50%, -50%); */
        width: 80%;
        height: 100%;
        /* background: darkred; */
        /* margin-left: 14%; */
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        z-index: 24;
        /* background-color: rgba(90, 125, 241, 0.514); */
      }
      .bubble_instruction > div button {
        padding: 0.7em 2em;
        font-size: 1.7vh;
        text-align: center;
        text-transform: uppercase;
        font-weight: bold;
        width: 100%;
        border-radius: 7px;
        border: none;
        outline: none;
        background-color: crimson;
        color: var(--color-white);
        border: 1px solid white;
        margin-bottom: 10px;
      }
      .bubble_instruction > div {
        /* position: absolute; */
        width: 40%;
      }
      .bubble_base {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 0;
        mix-blend-mode: normal;
        z-index: 0;
      }
      .bubble_light {
        top: 0;
        left: 0;
        position: absolute;
        mix-blend-mode: screen;
        z-index: 10;
      }

      .bubble_hidden {
        visibility: hidden;
      }

      .bubble {
        width: 90vh;
        height: 38vh;
        /* background-color: red; */
        position: relative;
        color: var(--color-white);
      }

      .bubble::after {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-image: url(./png/bubble_base3.png);
        background-repeat: no-repeat;
        background-position: 0vh top;
        background-size: 75vh;
        z-index: 0;
      }

      .bubble::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-image: url(./png/bubble_light3.png);
        background-repeat: no-repeat;
        background-position: 0vh top;
        background-size: 75vh;
        z-index: 12;
      }
      .choices {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1em;
      }

      .bubble p {
        font-size: 2.3vh;
        font-weight: bold;
        text-transform: uppercase;
        text-align: center;
      }
      /*end bubble*/
      /*end bubble*/

      /*letter seven*/
      /*letter seven*/
      .letter-seven {
        position: absolute;
        bottom: 10vh;
        left: -1vh;
        width: 100%;
        /* transform: translate(0px, -0.5em); */
        display: flex;
        justify-content: center;
        align-items: flex-end;
        /* cursor: pointer; */
        z-index: 20;
        font-size: 3.7vh;
        color: var(--color-white);
        /* text-shadow: 0 0 0 transparent, 0 0 1px #dcf1ff, 0 0 20px rgb(0 195 255 / 50%), 0 0 4px #c2e3d5, 0 0 4px #ddfff9, 0 0 10px #2fb6bf94, 0 0 3px #29d0d9a9, 0 0 4px #168cad, 0 0 41px #12617e; */
      }
      .letter-seven.light {
        text-shadow: #fff 0px 0px 5px, #fff 0px 0px 10px, #fff 0px 0px 15px,
          #ffb0a5 0px 0px 20px, #f34502 0px 0px 30px, #eb1e1e 0px 0px 40px,
          #d54110 0px 0px 50px, #ed5120 0px 0px 75px;
      }
      .letter-seven.open {
        transition: var(--transition-mask);
        transform: translate(0em, 0.2em);
        font-size: 6.6vh;
        color: var(--letter_door);
        width: 100%;
        height: 100%;
      }

      /* .picked {
        background: green;
      } */

      /* .container-seven.revealed {
        background-color: #08f;
      } */
      .container-seven.remaining {
        /* background-color: purple; */
      }
      .seven._movefromBottom,
      .letter-seven._movefromBottom {
        transform: translateY(44vh);
        animation: _movefromBottom 1s 0.6s ease forwards;
      }
      .letter-seven._movefromBottom {
        animation-delay: 0.6s;
      }
      .container-seven:nth-child(1) .seven._movefromBottom {
        animation-delay: 0.6s;
      }
      .container-seven:nth-child(2) .seven._movefromBottom {
        animation-delay: 0.8s;
      }
      .container-seven:nth-child(3) .seven._movefromBottom {
        animation-delay: 1s;
      }
      .seven._active {
        transform: scale(1.1);
        transition: transform 0.5s ease both;
      }
      .container-seven.revealed .swirls {
        animation: moveDown 0.7s cubic-bezier(1, 0.22, 0.15, 1) forwards 2
          alternate;
        opacity: 1;
      }
      /* .container-seven.revealed .seven{
        animation: moveDown2 10.5s ease forwards ;
      } */
      @keyframes moveDown {
        0% {
          transform: translate(-20vh, -18vh);
          /* width: 40vh; */
          background-size: 110%;
        }
        100% {
          transform: translate(-20vh, -43vh);
          /* width: 50vh; */
          background-size: 120%;
        }
      }

      @keyframes moveDown2 {
        0% {
          /* width: 38vh; */
        }
        100% {
          /* transform: translate(-20vh, -43vh); */
          /* width: 50vh; */
          /* width:  0%; */
        }
      }

      @keyframes _movefromBottom {
        0% {
          transform: translateY(44vh);
        }
        100% {
          transform: translateY(0vh);
        }
      }

      @keyframes scaleElem {
        0% {
          transform: scale(0) translate(0vh, -18vh);
          opacity: 0;
        }
        100% {
          transform: scale(1) translate(-20vh, -18vh);
          opacity: 1;
        }
      }
      .swirls {
        transform: translate(-20vh, -18vh);
        animation: scaleElem 1s 0.3s forwards ease;
        opacity: 0;
      }
      /* .random_open {
        background: #000;
      } */

      /*END LETTER DOOR*/
      /*END LETTER DOOR*/
      /*end bubble and girl*/

      .content {
        /* background: #0000ff5c; */
        width: 100%;
        height: 100%;
        z-index: 21;
        /* position: absolute;
    transform: translateY(40vh); */
        opacity: 0;
        position: absolute;
        /* background-image: url(./png/content_prize.png);
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
        mix-blend-mode: screen;
        z-index: 1; */
      }
      .content._show {
        animation: moveTop 2s ease forwards;
        transform: translateY(0vh);
        opacity: 1;
        transition: opacity ease 0.5s;
      }
      @keyframes moveTop {
        0% {
          transform: translate(-20vh, -18vh);
          width: 40vh;
          background-size: 110%;
        }
        100% {
          transform: translate(-20vh, -43vh);
          width: 50vh;
          background-size: 120%;
        }
      }

      .box_seven {
        /* background-color: #f00; */
        display: block;
        /* top:30em ; */
        z-index: 12;
      }

      .box_content {
        /* background-color: #00f; */
        top: 30em;
        opacity: 0;
        position: absolute;
        background-image: url(./png/content_prize.png);
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
        mix-blend-mode: screen;
        z-index: 1;
      }
    </style>
  </head>
  <body>
    <div class="container-all">
      <div class="container-stuff">
        <div class="container-girl">
          <img src="./png/girl.png" alt="girl" />
          <div class="container-bubble bubble_hidden">
            <!-- <div class="bubble-img">
                        <img src="./png/bubble_light.png" class="bubble_light" alt="" />
                           <img src="./png/bubble_base.png" class="bubble_base" alt="" />
            </div> -->
            <div class="bubble">
              <div class="bubble_instruction" id="instruction">
                <!-- <div id="instr_text"></div> -->
                <p style="margin-bottom: 0.6em"></p>

                <div class="start_game" style="z-index: 10">
                  <button
                    id="start_game"
                    class="btnNew btn_startGame pulse_btn"
                  >
                    Începe jocul
                  </button>
                </div>
                <div class="select_door" style="z-index: 10">
                  <button id="yes_select" class="btnNew btn_continue pulse_btn">
                    alege un simbol...
                  </button>
                </div>
                <div class="p_continue" style="z-index: 10">
                  <button
                    id="yes_continue"
                    class="btnNew btn_continue pulse_btn"
                  >
                    OK! MAI DEPARTE
                  </button>
                </div>
                <div class="choices">
                  <button id="yes" class="btnNew btn_choices btn_yes pulse_btn">
                    Da
                  </button>
                  <button id="no" class="btnNew btn_choices btn_no pulse_btn">
                    NU
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="app" class="app-main">
          <div class="wrapper-seven" id="_Sevens"></div>
        </div>
      </div>
    </div>
    <script>
      function retriveData() {
        let request = new XMLHttpRequest();
        request.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            let codeText = this.responseText;
            console.log(codeText, "codul");

            if (codeText.match(/A250/gi) || codeText.match(/A350/gi)) {
              largeCode = codeText;
              gamesCode = _games[0];
            } else if (codeText.match(/B250/gi) || codeText.match(/B350/gi)) {
              largeCode = codeText;
              gamesCode = _games[1];
            } else if (codeText.match(/C250/gi) || codeText.match(/C350/gi)) {
              largeCode = codeText;
              gamesCode = _games[2];
            } else if (codeText.match(/D250/gi) || codeText.match(/D350/gi)) {
              largeCode = codeText;
              gamesCode = _games[3];
            } else if (codeText.match(/E250/gi) || codeText.match(/E350/gi)) {
              largeCode = codeText;
              gamesCode = _games[4];
            } else if (codeText.match(/F250/gi) || codeText.match(/F350/gi)) {
              largeCode = codeText;
              gamesCode = _games[5];
            } else {
              console.log("Error no mached");
            }
          }
        };
        request.open(
          "GET",
          "https://casino-promo.netbet.ro/scripts/api/space/getcode1.php"
        );
        request.send();
      }
      // const doors = $("#_Sevens .seven").toArray();
      const symbolsSeven = [];
      console.log(symbolsSeven, "doors");
      const inputs = [];
      const instruction = [];

      let totalDoors = 3;
      let state = "PICK";
      let pickedDoor;
      let revealedDoor;
      let timeoutId;
      let gamesCode;

      let smallCode = "GOL";
      let largeCode = "";

      let delay0_5s = 500;
      let delay1s = 1000;
      let delay1_5s = 1500;
      let delay2s = 2000;
      let delay2_5s = 2500;
      let delay3s = 3000;
      let delay3_5s = 3500;
      let delay4s = 4000;
      let delay4_5s = 4500;
      let delay5s = 5000;

      let _games = [
        "Game of Gladiators Uprising",
        "Dice and Roll",
        "Versailles Gold",
        "Candy Island Princess",
        "Fire Joker",
        "Shining Crown",
      ];

      const sevensLetter = [{ letter: "A" }, { letter: "B" }, { letter: "C" }];
      console.log(gamesCode, "gamesCode");
      let first_text =
        '<div class="first_text_t1">Bun venit pe netbet!</div><br/><div class="second_text_t1">Te provoc să iei sute de <br/> runde gratuite</div>';
      let second_text =
        '<div class="first_text_t2">SIMBOLURILE ASCUND RUNDE GRATUITE</div><br/><div class="second_text_t2">UNUL DINTRE ELE ASCUNDE<br/>PREMIUL CEL MARE</div>';
      let four_text =
        '<div class="first_text_t4">AM ELIMINAT UȘA NECÂȘTIGĂTOARE</div>';
      let privacy_terms =
        "Am citit și accept Termenii și Condițiile și Politica de Confidențialitate.";
      let privacy_marketing =
        "Sunt de acord să primesc comunicări de marketing din partea NetBet.";

      function startInstruction() {
        setTimeout(() => {
          $(".bubble_hidden").css("visibility", "visible");
        }, 0);
      }
      // const letters = ["A", "B", "C"];
      function startGame() {
        // for (let i = 0; i < doors.length; i++) {
        //   let door = doors[i];
        //   let doorIndex = i + 1;
        //   let doorsLetter = "";
        //   if (doorIndex >= 1 && doorIndex <= letters.length) {
        //     doorsLetter = letters[doorIndex - 1];
        //   }
        //   // door.style("cursor", "default");
        //   $(".letter-seven").eq(i).text(doorsLetter);
        //   // select(".letter-seven", door).removeClass("light");
        // }
        state = "!PICK";

        select("#_Sevens").addClass("doorNon-Active");
        // select(".seven").addClass("moveTop");
        // select(".door-container").style("cursor","default");
        select(".start_game").show();

        select("button#start_game").mousePressed(resetDoor);

        select("#instruction > p").html(first_text);
        select("#instruction > .choices").hide();
        select("#instruction > .p_continue").hide();
        // $("#instruction > #play-again").hide();
        select("#instruction > .select_door").hide();
        // select(".seven").addClass("_movefromBottom");

        // select("button#yes_select").hide();
      }

      function pickDoor() {
        if (state !== "PICK") return;
        state = "REVEAL";
        pickedDoor = random(symbolsSeven);
        // picked simbol
        pickedDoor = this;
        pickedDoor.addClass("picked");
        console.log(pickedDoor, "pickedDoor");
        // symbols for text for html
        userPickDoorIndex = pickedDoor.index + 1;
        console.log(userPickDoorIndex, "userPickDoorIndex");
        if (userPickDoorIndex === 1) {
          userPickDoorIndex = "A";
        } else if (userPickDoorIndex === 2) {
          userPickDoorIndex = "B";
        } else if (userPickDoorIndex === 3) {
          userPickDoorIndex = "C";
        }
        // add class to simbols and letters
        select(".letter-seven", pickedDoor).addClass("open");

        select(".seven", pickedDoor).addClass("_active");
        // select(".swirls", pickedDoor).addClass("_move");

        let third_text = `<div class="first_text_t3">AI ALES SIMBOLUL "${userPickDoorIndex}"</div><br/><div class="second_text_t3">TE AJUT ȘI ELIMIN UN SIMBOL <br/> NECÂȘTIGĂTOR!</div>`;
        // select('#instr_text').hide();
        select("#yes_select").hide();

        // instructions and buttons show
        setTimeout(() => {
          select("#instruction > p").html(third_text);
          select("#instruction").style("display", "flex");
          select("#instruction > .p_continue").show();
        }, delay1s);
      }

      function makeDoors() {
        // clear array
        for (let seven of symbolsSeven) {
          seven.remove();
        }
        symbolsSeven.splice(0, symbolsSeven.length);

        for (let i = 0; i < totalDoors; i++) {
          symbolsSeven[i] = createDiv();
          symbolsSeven[i].parent("#_Sevens");
          symbolsSeven[i].class("container-seven");
          symbolsSeven[i].index = i;
          symbolsSeven[i].mousePressed(pickDoor);

          const swirlTop = createDiv();
          swirlTop.class("swirl-top swirls");
          swirlTop.parent(symbolsSeven[i]);

          const sevenElement = createDiv();
          sevenElement.class("seven _movefromBottom");
          sevenElement.mouseClicked(pickDoor); // If you want to handle the click event using p5.js
          sevenElement.parent(symbolsSeven[i]);

          const swirlBottom = createDiv();
          swirlBottom.class("swirl-bottom swirls");
          swirlBottom.parent(symbolsSeven[i]);

          const letter = createDiv();
          letter.class("letter-seven _movefromBottom");
          letter.parent(symbolsSeven[i]);
          letter.html(sevensLetter[i].letter);

          const contentBonus = createDiv();
          contentBonus.class("content");
          contentBonus.parent(symbolsSeven[i]);
          // contentBonus.html(sevensLetter[i].letter);
        }
      }

      retriveData();
      function revealDoor() {
        const options = symbolsSeven.filter(
          (seven, i) => i !== pickedDoor.index && seven.prize !== largeCode
        );

        // right door!
        if (options.length === symbolsSeven.length - 1) {
          // Randomly remove 1
          options.splice(floor(random(options.length)), 1);
        }

        for (const revealedDoor of options) {
          revealedDoor.addClass("revealed");
          // select("#p_continue",revealedDoor).mousePressed(switchDivs);
          select(".content", revealedDoor).addClass("box_content");
          select(".seven", revealedDoor).addClass("box_seven");
          // setTimeout(() => {
          //   select(".content", revealedDoor).removeClass("box_content");
          //   select(".seven", revealedDoor).removeClass("box_seven");
          // }, delay2s);
          // select(".content", revealedDoor).html(revealedDoor.prize);
        }
        $("#p_continue").click(switchDivs());
        //last door 
        const lastDoor = symbolsSeven.find(
          (seven) => !seven.hasClass("revealed") && !seven.hasClass("picked")
        );
        lastDoor.addClass("remaining");

        const switchDoor = symbolsSeven.find((seven) =>
          seven.hasClass("picked")
        );

        console.log(switchDoor,"switchDoor");

        select("#instruction > p").html(four_text);
        select(".letter-seven", lastDoor).addClass("pause stayClose");

        lastDoorIndex = lastDoor.index + 1;
        switchDoorIndex = switchDoor.index + 1;

        if (lastDoorIndex === 1) {
          lastDoorIndex = "A";
        } else if (lastDoorIndex === 2) {
          lastDoorIndex = "B";
        } else if (lastDoorIndex === 3) {
          lastDoorIndex = "C";
        }

        if (switchDoorIndex === 1) {
          switchDoorIndex = "A";
        } else if (switchDoorIndex === 2) {
          switchDoorIndex = "B";
        } else if (switchDoorIndex === 3) {
          switchDoorIndex = "C";
        }

        let five_text = `<div class="first_text_t5">POȚI SCHIMBA SIMBOLUL "${switchDoorIndex}"</div><div class="second_text_t5">cu "${lastDoorIndex}"</div><div class="third_text_t5">vrei să schimbi?</div>`;

        setTimeout(() => {
          // select("#_Sevens > .container-seven.revealed").hide();
        }, delay2s);

        select("#instruction > .p_continue").hide();

        select("#instruction > p").html(five_text);

        select("#instruction > .choices").style("display", "flex");

        setTimeout(() => {
          select("#instruction").style("display", "flex");
        }, delay2_5s);
      }

      function chooseDoor(hasSwitched = false) {
        select("#instruction > .choices").hide();

        if (hasSwitched) {
          const newPick = symbolsSeven.find(
            (seven) => !seven.hasClass("revealed") && !seven.hasClass("picked")
          );
          newPick.addClass("picked");
          pickedDoor.removeClass("picked");
          pickedDoor = newPick;
        } else {
          // // stayDoorsRev.addClass("rev_open");
          // const newPick2 = doors.find(
          //   (door) => !door.hasClass("revealed") && !door.hasClass("won")
          // );
          // console.log(newPick2);
        }
        const stayDoorsRev = symbolsSeven.find((seven) =>
          seven.hasClass("picked")
        );
        // stayDoorsRev.addClass("rev_open");
        checkWin(hasSwitched);
      }

      function checkWin(hasSwitched) {
        for (let seven of symbolsSeven) {
          codeString = `<span class="content-l1">${largeCode.substring(
            1,
            4
          )}</span><span class="content-l2">runde</span><span class="content-l3">gratuite</span>`;
          seven.prize = codeString;
          seven.addClass("revealed");
          // select(".content", seven).addClass("box_content");
          // select(".seven", seven).addClass("box_seven");
          seven.removeClass("remaining");

          // select(".letter-seven", seven).addClass("revealed");

          // select(".content", seven).html(door.prize);
        }
        const revv = symbolsSeven.find((seven) =>
          seven.hasClass("picked")
        );

          console.log(revv,"tesssxcvzxztr")

        // select(".span_code_input").html(codeString);

        // select(".span_game_input").html(gamesCode);

        // select(".letter-seven.open").addClass("rev_open");

        if (pickedDoor.prize === codeString) {
          pickedDoor.addClass("won");
     
          // $("#p_continue").click(switchDivs());

          select("#instruction > p").html("Ai câstigat!");

          setTimeout(() => {
            // showDialog();
            // select("#mask_modal").addClass("active");
            // select(".above-fold").style("height", "100vh");
          }, delay3s);
        } else {
          select("#instruction > p").html("Ai pierdut!");

          // select('#doors > .lose > .content').html(codeString);
        }
      }

      function resetDoor() {
        for (const seven of symbolsSeven) {
          let sevensIndex = seven.index + 1;
          if (sevensIndex === 1) {
            sevensIndex = "A";
          } else if (sevensIndex === 2) {
            sevensIndex = "B";
          } else if (sevensIndex === 3) {
            sevensIndex = "C";
          }

          seven.show();
          seven.prize = smallCode;

          seven.revealed = false;
          $(".letter-seven", seven).html(sevensIndex);
          // let test =  document.getElementsByClassName("letter-seven");
          console.log("test");
          select(".letter-seven", seven).addClass("light");
          // select(".letter-seven", seven).removeClass("open");
          // select(".letter-seven", seven).removeClass("pause");
          // select(".letter-seven", seven).removeClass("revealed");
          // select(".letter-seven", seven).removeClass("rev_open");
          // select(".letter-seven", seven).removeClass("stayClose");

          select(".seven", seven).removeClass("_movefromBottom");
          seven.removeClass("revealed");
          // door.removeClass('revealedNone');
          seven.removeClass("picked");
          seven.removeClass("won");
          seven.removeClass("lose");
          seven.removeClass("open");
          // seven.removeClass("rev_open");
          seven.removeClass("remaining");
          // select(".content", door).html("");
          // select('#instr_text').show();
        }
        // closeDialog();
        // select('#doors').style("display","flex");
        select("#_Sevens").removeClass("doorNon-Active");

        select(".start_game").hide();

        // select("#instruction > #play-again").hide();

        // select("button#play-again").hide();

        const winner = random(symbolsSeven);
        winner.prize = largeCode;
        select("#instruction > p").html(second_text);
        select("#instruction > .select_door").show();
      }

      function switchDivs() {
        console.log("swtich");
        let isBox2Visible = false;
        let speedSwitch = 1000;
        let speedSwitchDelay = 1500;
        if (isBox2Visible) {
          $(".box_seven").animate(
            { top: "-=30em", opacity: 1 },
            speedSwitch,
            function () {
              $(this).show().css({ top: "0" });
            }
          );
          $(".box_content")
            .css({ top: "0em", opacity: 0 })
            .show()
            .animate({ top: "-23em", opacity: 0 }, speedSwitch);
        } else {
          $(".box_seven")
            .css({ top: "-0em", opacity: 1 })
            .show()
            .animate({ top: "30em", opacity: 0 }, speedSwitch);
          $(".box_content").animate(
            { top: "-1em", opacity: 0 },
            speedSwitch,
            function () {
              $(this).show().css({ top: "-1em", opacity: 1 });

              // altaFunctie();
            }
          );
        }
        isBox2Visible = !isBox2Visible;
      }

      // makeDoors();
      // startGame();
      // makeInput();
      // resizeWin();
      function setup() {
        noCanvas();
        startInstruction();
        makeDoors();
        startGame();
        // makeInput();
        $("#yes").on("click", function () {
          $("#instruction").hide();
          setTimeout(() => {
            chooseDoor(true);
          }, delay1s);
          setTimeout(() => {
            // alert("ai castigat" + largeCode);
            // winConfetti();
          }, delay1_5s);
        });

        $("#no").on("click", function () {
          $("#instruction").hide();
          setTimeout(() => {
            chooseDoor(false);
          }, delay1s);
          setTimeout(() => {
            // alert("ai castigat");
            // winConfetti();
          }, delay1_5s);
        });

        $("#yes_continue").on("click", function () {
          // select(".seven", symbolsSeven).removeClass("_active");
          $("#instruction").hide();
          setTimeout(() => {
            revealDoor();
          }, delay1s);
        });

        $("#yes_select").on("click", function () {
          for (const seven of symbolsSeven) {
            $(seven).css("cursor", "pointer");
          }
          $("#instruction").hide();
          state = "PICK";
        });

        // startInstruction();
        // startGame();
      }

      // function replaceWithText(sevenContainer) {
      //   // Create a new text container
      //   const textContainer = document.createElement("div");
      //   textContainer.className = "text-container";
      //   textContainer.textContent = "Your Text Here"; // Replace "Your Text Here" with your desired text

      //   // Insert the text container after the "seven" container
      //   sevenContainer.insertAdjacentElement("afterend", textContainer);

      //   // Animate the "seven" container to move down
      //   sevenContainer.classList.add("move-down");

      //   // Animate the text container to move up
      //   setTimeout(() => {
      //     textContainer.style.transform = "translateY(0)";
      //   }, 100); // A small delay for smoother transition
      // }

      //   function replaceWithText(sevenContainer) {
      //   // Create a new text container
      //   const textContainer = document.createElement("div");
      //   textContainer.className = "text-container";
      //   textContainer.textContent = "Your Text Here"; // Replace "Your Text Here" with your desired text

      //   // Insert the text container after the "seven" container
      //   // textContainer.style.position = "absolute";
      //   sevenContainer.insertAdjacentElement("afterend", textContainer);

      //   // Animate the "seven" container to move down and disappear
      //   sevenContainer.classList.add("move-down");

      //   // Animate the text container to appear
      //   setTimeout(() => {
      //     textContainer.style.transform = "translateY(0)";
      //     // textContainer.style.opacity = "1";
      //   }, 100); // This should match the transition duration in CSS for a smooth appearance
      // }
    </script>
  </body>
</html>
