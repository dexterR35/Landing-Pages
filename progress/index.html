<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
      integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>Document</title>

    <style>
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
      :root {
        /* --diamond_color:rgb(60 201 255); */
        --diamond_color: linear-gradient(
          90deg,
          rgb(105, 212, 255) 0%,
          rgb(55, 151, 240) 100%
        );
        --gold_color: linear-gradient(90deg, #ffd700 0%, #756300 100%);
        --platinum_color: linear-gradient(
          90deg,
          rgb(241, 255, 254) 0%,
          rgb(164, 255, 228) 100%
        );
        --border_platinum:#d1f2ff;
      }

      body {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100vh;
        position: relative;
        background: var(--gray-gray-1000, #0c1116);
        font-family: 'Poppins', sans-serif;
      }

      #wrapper {
        display: flex;
        width: 100vw;
        height: 20em;
        justify-content: center;
        align-items: center;
      }

      .container-shape {
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      }

      .progress-bar {
        display: flex;
        justify-content: flex-start;
        align-items: center;
      }



      .gold {
        border: 1px solid #ffd700;
        background: var(--gray-gray-1000, #0c1116);
        color: #ffd700;
      }

      .diamond {
        border: 1px solid #3cffa1;
        background: var(--gray-gray-1000, #0c1116);
        color: #fff;
      }
      .platinum {
        border: 1px solid var(--border_platinum);
        background: var(--gray-gray-1000, #0c1116);
        color: #d9d9d9;
      }

      .gold,
      .diamond,
      .platinum {
        border-radius: 8px;
        z-index: 12;
        text-transform: uppercase;
        font-family: 'Poppins', sans-serif;
        font-size: 10px;
        font-style: normal;
        font-weight: 600;
        letter-spacing: 1px;
        text-transform: uppercase;
        padding: 0.5em 1.4em;
        position: absolute;
      }

      .gold,
      .diamond {
        left: -5em;
        
      }

      .platinum {
        right: -5em;
      }

      

      .pushButton {
        position: absolute;
        top: 60%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: none;
        padding: 0.5em 2em;
        border-radius: 4px;
        background-color: crimson;
        color: white;
        text-transform: uppercase;
      }

      .party {
        text-align: center;
      }

      #xp-bar {
        height: 5px;
        width: 200px;
        display: inline-block;
        background: var(--gray-gray-900, #242d35);
      }

      #xp-bar-fill {
        height: 100%;
        width: 10%;
        background: var(--gold_color);
      }

.boxCont::before {
  content:'';
  width: 500px;
  height: 300px;
  opacity: 1;
  background-image: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.3) 40%,
    rgba(255, 255, 255, 0.3) 60%,
    rgba(255, 255, 255, 0) 100%
  );
  transform-origin: center center;
  position: absolute;
  z-index: 10;
  animation-delay: 1s;
  animation-name: mask-ani;
  animation-duration: 5s;
  animation-iteration-count: infinite;
}
.boxCont::after {
  content: '';
  width: 500px;
  height: 50px;
  opacity: 0;
  background-color: #fff;
  transform-origin: center center;
  position: absolute;
  z-index: 1;
  animation-delay: 1s;
  animation-name: mask-border-ani;
  animation-duration: 5s;
  animation-iteration-count: infinite;
}

      @keyframes mask-ani {
  0% {
    transform: rotate(-36deg) translate(-40px, -430px);
  }

  70%,
  100% {
    transform: rotate(-36deg) translate(-40px, 378px);
  }
}
@keyframes mask-border-ani {
  0% {
    opacity: 0.8;
    transform: rotate(-36deg) translate(-126px, -190px);
  }

  70%,
  100% {
    opacity: 0.8;
    transform: rotate(-36deg) translate(-126px, 355px);
  }
}


    </style>
  </head>

  <body>
    <button id="switchButton" class="pushButton" onclick="doit()"></button>
    <div id="wrapper">
      <div class="container-shape">
        <div class="gold" id="gold"></div>
        <div class="progress-bar">
          <div id="xp-bar" class="barGrey">
            <div id="xp-bar-fill" class="barGold"></div>
          </div>
        </div>
       
        <div class="platinum" id="platinum">
            <div class="boxCont"></div> 
        </div>
       
     
      </div>
    </div>
    <script>
      $("#gold").text("gold");
      $("#platinum").text("platinum");
      $("#switchButton").text("New Level");

      function swapElements() {
        let btnClick = $(".pushButton");
        const goldElement = $(".gold");
        const platinumElement = $(".platinum");
        const progressBar = $(".progress-bar");
        const goldParent = goldElement.parent();
        const platinumParent = platinumElement.parent();
        const nextElementAfterPlatinum = platinumElement.next();

        platinumElement
          .css({
            position: "absolute",
            right: "-5em",
            "box-shadow": "0px 0px 1px 1px var(--border_platinum)",
            background:"#fff",
            color:"black",
            "font-style":"bold"
          })
          .animate(
            {
              right: "-5em",
              padding: "0.5em 60% 0.5em 60%",
            },
            1000,
            function () {
              goldElement.removeClass("gold");
              goldElement.addClass("diamond");
              goldElement.text("diamond");
              platinumElement.addClass("party");
              setTimeout(function () {
                goldElement.css({
                  "box-shadow": "var(--diamond_Color) 0px 0px 7px 0px",
                });
              }, 1400);
              platinumElement.delay(1200).animate(
                {
                  right: "95%",
                  padding: "0.5em 1em 0.5em 1em",
                },
                1000,
                function () {
                  platinumElement.css({
                    position: "absolute",
                    right: "95%",
                    "box-shadow": "",
                    background:"",
            color:""
                  });
                  platinumElement.removeClass("party");
                }
              );
            }
          );
        goldElement
          .delay(1000)
          .css({
            position: "absolute",
            left: "-5em",
          })
          .animate(
            {
              left: "80%",
            },
            500,
            function () {
              goldElement.css({
                position: "absolute",
                left: "80%",
              });
            }
          );
        progressBar.css("position", "relative");
        btnClick.attr("disabled", "disabled");
        btnClick.css("background", "grey");
      }

      function doit() {
        $("#xp-bar-fill").css({
          "-webkit-transition": "all 0.5s ease",
          "box-shadow": "",
        });
        setTimeout(function () {
          $("#xp-bar-fill").css("-webkit-transition", "all 1.7s ease");
          $("#xp-bar-fill").css("width", "100%");
        }, 100);
        setTimeout(function () {
          $("#xp-bar-fill").css(
            "box-shadow",
            "0px 0px 5px var(--border_platinum), -5px 0px 50px var(--border_platinum) inset"
          );
        }, 500);
        setTimeout(function () {
          setTimeout(function () {
            $("#xp-bar-fill").css({
              width: "13%",
              background: "var(--platinum_color)",
              "box-shadow": "",
              "-webkit-transition": "all 0.5s ease-out",
            });
          }, 2500);
          swapElements();
        }, 1300);
      }
    </script>
  </body>
</html>
