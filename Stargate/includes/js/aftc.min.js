// AFTC.JS Version 1.6.37
// Author: Darcey@aftc.io
var AFTC=AFTC||{};function getFunctionName(e){var t=e.toString();return/function ([^\(]*)/.exec(t)[1]}function cycle(e,t){return(e%t+t)%t}argsToObject=function(e,t,n){if(e[0]&&"object"==typeof e[0]){var r=e[0];if(null==n&&(n=!0),r&&"object"==typeof r)for(var o in r)n?t.hasOwnProperty(o)?t[o]=r[o]:console.warn("argsToObject(): Argument ["+o+"] is not supported."):t[o]=r[o]}},argsTo=function(e,t,n){argsToObject(e,t,n)},AFTC.GetElement={vars:{cache:[]},by:function(e,t){var n=AFTC.GetElement.vars.cache[t]||!1;if(n)return n;switch(e.toLowerCase()){case"id":return AFTC.GetElement.vars.cache[t]=document.getElementById(t),AFTC.GetElement.vars.cache[t];case"class":return AFTC.GetElement.vars.cache[t]=document.getElementsByClassName(t),AFTC.GetElement.vars.cache[t];case"query":return AFTC.GetElement.vars.cache[t]=document.querySelector(t),AFTC.GetElement.vars.cache[t];case"tag":return AFTC.GetElement.vars.cache[t]=document.getElementsByTagName(t),AFTC.GetElement.vars.cache[t];case"name":return AFTC.GetElement.vars.cache[t]=document.getElementsByName(t),AFTC.GetElement.vars.cache[t]}}},window.getElementById=function(e){return AFTC.GetElement.by("id",e)},window.getId=function(e){return window.getElementById(e)},window.byId=function(e){return window.getElementById(e)},window.querySelector=function(e){return AFTC.GetElement.by("query",e)},window.query=function(e){return window.querySelector(e)},window.getElementsByName=function(e){return AFTC.GetElement.by("name",e)},window.getElementByName=function(e){return AFTC.GetElement.by("name",e)[0]},window.getElementsByClassName=function(e){return AFTC.GetElement.by("class",e)},window.getElementByClassName=function(e){return AFTC.GetElement.by("class",e)[0]},window.getElementsByTagName=function(e){return AFTC.GetElement.by("tag",e)},window.getElementByTagName=function(e){return AFTC.GetElement.by("tag",e)[0]},AFTC.Log={enabled:!0,element:!1,enable:function(){enabled=!0},disable:function(){enabled=!1},to:function(e){null!=e&&null!=e&&e?("string"==typeof e&&(e=getElementById(e)),isElement(e)?AFTC.Log.element=e:console.error("logTo(arg) ERROR: Supplied arg is not an ID or Element! To turn off logTo HTML element, don't supply an argument or use false.")):AFTC.Log.element=!1},out:function(e){if(console&&AFTC.Log.enabled&&(void 0===e?console.warn('log(arg) ERROR: Your log variable (arg) is "undefined"!'):console.log(e),0!=AFTC.Log.element))if(isElement(e))AFTC.Log.element.innerHTML+=e+"<br>";else if("object"==typeof e)for(var t in AFTC.Log.element.innerHTML+="[object||array]<br>",e)AFTC.Log.element.innerHTML+="&nbsp;&nbsp;&nbsp;&nbsp;["+t+"] = "+e[t]+"<br>";else AFTC.Log.element.innerHTML+=e+"<br>"}},window.log=function(e){AFTC.Log.out(e)},window.trace=function(e){AFTC.Log.out(e)},window.logTo=function(e){AFTC.Log.to(e)},window.logEnable=function(){AFTC.Log.enabled=!0},window.log.enable=function(){AFTC.Log.enabled=!0},window.logDisable=function(){AFTC.Log.enabled=!1},window.log.disable=function(){AFTC.Log.enabled=!1},window.logToDisable=function(){AFTC.Log.to(!1)},window.disableLogTo=function(){AFTC.Log.to(!1)},window.cls=function(){console&&console.clear&&console.clear(),AFTC.Log.element&&(AFTC.Log.element.innerHTML="")},window.clearLog=function(){cls()},window.openDebugWindow=function(e){var t=window.open("debug","debug","width=1200,height=400,resizeable,scrollbars");t.document.title="Debug",t.document.write("<style>body {width:100%;}</style>"),t.document.write("<div style='display:block;width:98%;-ms-word-wrap:break-word ;word-wrap:break-word;border:1px solid #000000;'>"+e+"</div>"),t.document.close()},window.stringToWindow=function(e){openDebugWindow(e)},window.htmlToWindow=function(e){openDebugWindow(e)},window.addEvent=function(e,t,n,r){null!=e&&void 0!==e&&(e.addEventListener?e.addEventListener(t,n,!!r):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},window.onReady=function(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(e,10):document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){setTimeout(e,10)})},window.ready=function(e){window.onReady(e)},window.arrayRemoveIndex=function(e,t){return e.splice(t,1),e},window.isStringInArray=function(e,t){return new RegExp("("+t.join("|").replace(/\./g,"\\.")+")$").test(e)},window.arrayContains=function(e,t){return t.indexOf(e)>-1},window.isInArray=function(e,t){return window.arrayContains(e,t)},window.arrayEmpty=function(e){for(;e.length>0;)e.pop()},window.arrayClear=function(e){window.arrayEmpty(e)},window.getMaxFromArray=function(e){return Math.max.apply(Math,e)},window.arrayGetMax=function(e){return getMaxFromArray(e)},window.arrayMax=function(e){return getMaxFromArray(e)},window.getMinFromArray=function(e){return Math.min.apply(Math,e)},window.arrayGetMin=function(e){return getMinFromArray(e)},window.arrayMin=function(e){return getMinFromArray(e)},window.arrayShuffle=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e},window.shuffle=function(e){return arrayShuffle(e)},window.shuffleArray=function(e){return arrayShuffle(e)},window.arrayShuffle2=function(e){for(var t,n,r=new Uint32Array(1),o=0,i=e.length-1,a=e.length;o<i;o++,a--)crypto.getRandomValues(r),t=Math.floor(r/65536/65536*a)+o,n=e[o],e[o]=e[t],e[t]=n;return e},window.shuffle2=function(e){return arrayShuffle2(e)},window.shuffleArray2=function(e){return arrayShuffle2(e)},window.arrayToSingleLineString=function(e){var t="[";for(i=0;i<e.length;i++)switch(typeof e[i]){case"number":t+=e[i]+",";break;case"string":t+="'"+e[i]+"',";break;default:t+=typeof e[i]+","}return t=cutStringTo(t,t.length-1),t+="]"},window.arrayToString=function(e){return arrayToSingleLineString(e)},window.convertToArray=function(e){var t=[];return t[0]=e,t},window.toArray=function(e){return convertToArray(e)},window.valueToArray=function(e){return convertToArray(e)},window.isInString=function(e,t){return-1!==t.indexOf(e)},window.inString=function(e,t){return isInString(e,t)},window.isEven=function(e){return e%2==0},window.isOdd=function(e){return 1==Math.abs(e%2)},window.isAlphaNumeric=function(e){return!/\W/.test(e)},window.isElement=function(e){return 1==("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)},window.isElement2=function(e){return e instanceof Element},window.isDOM=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},window.isBoolean=function(e){return"boolean"==typeof e},window.isBool=function(e){return isBoolean(e)},window.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},window.isNumber=function(e){return isNumeric(e)},window.isArray=function(e){return!!e&&e.constructor===Array},window.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},window.randomInt=function(e,t){return getRandomInt(e,t)},window.getRandom=function(e,t){return getRandomInt(e,t)},window.random=function(e,t){return getRandomInt(e,t)},window.getRandomThatsNot=function(e,t,n){for(var r=n,o=0;r==n&&o<100;)o++,r=getRandomInt(e,t);return!(o>=100)&&r},window.getRandomFloat=function(e,t){return Math.random()*(t-e)+e},window.randomFloat=function(e,t){return getRandomFloat(e,t)},window.randomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},window.getRandomString=function(e){return randomString(e)},window.getUID=function(e){if(!(e>34))return Math.random().toString(36).substr(2,e);console.error("getUID(length): Limit error: Length must be 34 or lower")},window.getUniqueId=function(e){return getUID(e)},window.generateUID=function(e){return getUID(e)},window.getArrayOfRandomNumbers=function(e,t,n){for(var r=[],o=0;o<e;o++)r[o]=getRandomInt(t,n);return r},window.getArrayOfRandomStrings=function(e,t){for(var n=[],r=0;r<e;r++)n[r]=getRandomString(t);return n},window.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},window.getGUID=function(){return guid()},window.getWeightedRandom=function(e,t){e||(e=[.68,.69,.698,.6909,.68,.58,.57,.56,.4,.3]);var n=[],r=0,o=0;for(var i in e){n[i]||(n[i]=0);for(var a=0;a<t;a++)Math.random()<=e[i]&&(n[i]+=e[i]);n[i]>o&&(o=n[i],r=i)}return r},window.limitLengthInWords=function(e,t){var n=e.split(/\S+/).length-1,r=new RegExp("^\\s*\\S+(?:\\s+\\S+){0,"+(t-1)+"}");return{output:n>=t?e.match(r):e,remaining:t-n}},window.cleanJSONString=function(e){return e=(e=e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")).replace(/[\u0000-\u0019]+/g,"")},window.escapeHTML=function(e){if("string"!=typeof e)return console.error("escape(arg): usage error: arg needs to be a string!"),!1;var t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","`":"&#039;"};return e.replace(/[<>&"]/g,function(e){return t[e]})},window.cutStringTo=function(e,t){return e.substring(0,t)},window.cutString=function(e,t){return cutStringTo(e,t)},window.cutStringLength=function(e,t){return cutStringTo(e,t)},window.setStrLen=function(e,t){return cutStringTo(e,t)},window.setStringLength=function(e,t){return cutStringTo(e,t)},window.trimStringLength=function(e,t){return cutStringTo(e,t)},window.trimStringBy=function(e,t){return e.substring(0,e.length-t)},window.rTrim=function(e,t){return trimStringBy(e,t)},window.lTrim=function(e,t){return e.substring(t,e.length)},window.leftTrim=function(e,t){return lTrim(e,t)},window.getFileExtension=function(e){return e.split(".").pop()},window.getFileExtension2=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))},window.getLastPartOfUrl=function(e){return e||(e=window.location.href),e.substring(e.lastIndexOf("/")+1)},window.removeFileFromPath=function(e){return e=e.replace(/[^\/]*$/,"")},window.getAnchor=function(e){return e||(e=window.location.href),!!isInString("#",e)&&e.slice(e.lastIndexOf("#")+1)},window.getAnchorFromUrl=function(e){return window.getAnchor(e)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.match(new RegExp("^"+e))}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.match(new RegExp(e+"$"))}),window.getStringBetween=function(e,t,n){return e.split(t).pop().split(n).shift().trim()},window.getAllStringsBetween=function(e,t,n){var r=[];function o(){var r=e.indexOf(t);if(-1==r)return!1;var o=t.length+r,i=(e=e.substring(o,e.length)).indexOf(n);if(-1==i)return!1;var a=e.substring(0,i),s=n.length+i;return e=e.substring(s,e.length),a}for(var i=0,a=!0;i<=500&&0!=a;)i++,(a=o())&&r.push(a);return r},window.radToDeg=function(e){return e*(180/Math.PI)},window.rad2deg=function(e){return radToDeg(e)},window.degToRad=function(e){return e*(Math.PI/180)},window.deg2rad=function(e){return degToRad(e)},window.toHex=function(e){return e.toString(16)},window.decToHex=function(e){return toHex(e)},window.decimalToHex=function(e){return toHex(e)},window.numberToHex=function(e){return toHex(e)},window.boolToString=function(e){return e&&null!=e&&"boolean"==typeof e?e?"true":"false":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.booleanToString=function(e){return boolToString(e)},window.boolToYesNo=function(e){return e&&null!=e&&"boolean"==typeof e?e?"yes":"no":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.booleanToYesNo=function(e){return boolToYesNo(e)},window.stringToBool=function(e){if(!e||null==e||"string"!=typeof e)return console.log("AFTC.js: Conversion.js: stringToBoolean(str): Error - input str is not valid!"),!1;switch(e.toLowerCase()){case"y":case"yes":case"1":case"true":return!0;default:return!1}},window.stringToBoolean=function(e){return stringToBool(e)},window.toBoolean=function(e){return!(null==e||""==e||!e)&&("string"==typeof e?stringToBool(e):"number"!=typeof e||!(e<=0))},window.getBooleanFrom=function(e){return toBoolean(e)},window.parseArrayToFloat=function(e){for(var t,n=0;n<e.length;n++)t=parseFloat(e[n]),isNaN(t)?e[n]=0:e[n]=t;return e},window.arrayToFloat=function(e){return parseArrayToFloat(e)},window.parseArrayToInt=function(e){for(var t=0;t<e.length;t++)converted=parseInt(e[t]),isNaN(converted)?e[t]=0:e[t]=converted;return e},window.arrayToInt=function(e){return parseArrayToInt(e)},window.toArray=function(e){var t=[];switch(typeof e){case"object":if(isArray(e))return e;for(var n in e)t.push(e[n]);return t;default:return[e]}},window.convertToArray=function(e){return toArray(e)},window.rgb2Hex=function(e,t,n){return(e<<16|t<<8|n).toString(16)},window.rgbToHex=function(e,t,n){function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var o="#"+r(e)+r(t)+r(n);return o=o.toUpperCase()},window.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},window.hex2Rgb=function(e){return window.hexToRgb(e)},window.getDaysBetween=function(e,t){var n=new Date(e),r=new Date(t);return n.setHours(12,0,0),r.setHours(12,0,0),Math.round((r-n)/864e5)},window.getNoOfDaysBetween=function(e,t){return getDaysBetween(e,t)},window.getDaysBetweenDates=function(e,t){return getDaysBetween(e,t)},window.getUKDateFromDate=function(e){return e.getDay()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},window.getUSDateFromDate=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+(e.getDay()+1)},window.getUkDateFromDbDateTime=function(e){if(""==e||null==e)return"no input";var t=e.split(" ")[0].split("-");return t[2]+"/"+t[1]+"/"+t[0]},window.getUkDateTimeFromDbDateTime=function(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":");return n[2]+"/"+n[1]+"/"+n[0]+" "+(r[0]+":"+r[1])},window.getSQLDateTime=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),o=e.getHours(),i=e.getMinutes(),a=e.getSeconds();if(1==n.toString().length)n="0"+n;if(1==r.toString().length)r="0"+r;if(1==o.toString().length)o="0"+o;if(1==i.toString().length)i="0"+i;if(1==a.toString().length)a="0"+a;return t+"/"+n+"/"+r+" "+o+":"+i+":"+a},window.getDateTime=function(e){var t=new Date,n="";switch(e||(e="en-GB"),e.toLowerCase()){case"db":n=getSQLDateTime();break;case"en-GB":n=(n=t.toLocaleString("en-US",{hour12:!1,month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})).replace(",","");break;default:n=(n=t.toLocaleString("en-GB")).replace(",","")}return n},window.isEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},window.validateEmail=function(e){return isEmail(e)},window.isValidEmail=function(e){return isEmail(e)},window.isMobile=function(){var e=navigator.userAgent.toLowerCase();return!!/windows phone/i.test(e)||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},window.isAndroid=function(){var e=navigator.userAgent.toLowerCase();return!/windows phone/i.test(e)&&e.indexOf("android")>-1},window.iOS=function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1},window.isFireFox=function(){return"undefined"!=typeof InstallTrigger},window.isChrome=function(){var e=window.chrome,t=window.navigator,n=t.vendor,r=void 0!==window.opr,o=t.userAgent.indexOf("Edge")>-1;return!!t.userAgent.match("CriOS")||null!=e&&"Google Inc."===n&&!1===r&&!1===o},window.isEdge=function(){var e=!1;return/Edge\/\d./i.test(navigator.userAgent)&&(e=!0),e},window.isSafari=function(){return/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString()},window.isIE=function(){return!!document.documentMode},window.isOpera=function(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},window.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},window.getBrowser=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE"):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera":(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n[0])},window.getOS=function(e){var t;return t=(t=e||(navigator.userAgent||navigator.vendor||window.opera)).toLowerCase(),/windows phone/i.test(t)?{os:"windows phone",userAgent:t}:/samsungbrowser/i.test(t)?{os:"android",userAgent:t}:/android/i.test(t)?{os:"android",userAgent:t}:/ipad|iphone|ipod/i.test(t)?{os:"ios",userAgent:t}:/win64|win32|win16|win95|win98|windows 2000|windows xp|msie|windows nt 6.3; trident|windows nt|windows/i.test(t)?{os:"windows",userAgent:t}:/os x/i.test(t)?{os:"osx",userAgent:t}:/macintosh|osx/i.test(t)?{os:"osx",userAgent:t}:/openbsd/i.test(t)?{os:"open bsd",userAgent:t}:/sunos/i.test(t)?{os:"sunos",userAgent:t}:/crkey/i.test(t)?{os:"chromecast",userAgent:t}:/appletv/i.test(t)?{os:"apple tv",userAgent:t}:/wiiu/i.test(t)?{os:"nintendo wiiu",userAgent:t}:/nintendo 3ds/i.test(t)?{os:"nintendo 3ds",userAgent:t}:/playstation/i.test(t)?{os:"playstation",userAgent:t}:/kindle/i.test(t)?{os:"amazon kindle",userAgent:t}:/ cros /i.test(t)?{os:"chrome os",userAgent:t}:/ubuntu/i.test(t)?{os:"ubuntu",userAgent:t}:/googlebot/i.test(t)?{os:"google bot",userAgent:t}:/bingbot/i.test(t)?{os:"bing bot",userAgent:t}:/yahoo! slurp/i.test(t)?{os:"yahoo bot",userAgent:t}:{os:!1,userAgent:t}},window.setHTML=function(e,t){var n;if("string"==typeof e&&(n=getElementById(e)),!isElement(n))return"unable to retrieve element from ["+e+"]";n.innerHTML=t},window.html=function(e,t){window.setHTML(e,t)},window.getElementOffsetTop=function(e){var t=getElementById(e),n=0;if(isElement(t)&&t.offsetParent){do{n+=t.offsetTop}while(t=t.offsetParent);return parseFloat([n])}},window.getElementTopOffset=function(e){getElementOffsetTop(e)},window.centerAbsoluteElement=function(e){var t=document.getElementById(e);if(!t)throw"AFTC.js > centerAbsoluteElement(elementOrElementId): ERROR! elementId supplied was not found on the DOM!";var n=parseInt(t.offsetWidth),r=parseInt(t.offsetHeight),o=window.innerWidth/2-n/2,i=window.innerHeight/2-r/2;t.style.left=o+"px",t.style.top=i+"px"},window.scrollToElement=function(e,t,n){getElementById(e);var r=getElementOffsetTop(e);void 0!==n&&(r+=parseFloat(n));var o,i=document.documentElement.scrollTop,a=(document.documentElement.scrollTop,Math.abs(r-i)),s=1e3*t,u=null,l=0;if(i>r-3&&i<r+3)return!1;var d="scroll up";r>i&&(d="scroll down");var c=function(e){var t;(u||(u=e,o=e+s,l=a/s),o)?(document.documentElement.scrollTop,"scroll down"==d?((t=i+l*(e-u))>r&&(t=r),t>=r?(delete u,delete o,delete s,delete l,window.scrollTo(0,r)):(window.scrollTo(0,t),requestAnimationFrame(c))):((t=i-l*(e-u))<r&&(t=r),t<=r?(delete u,delete o,delete s,delete l,window.scrollTo(0,r)):(window.scrollTo(0,t),requestAnimationFrame(c)))):requestAnimationFrame(c)};c()},window.addClass=function(e,t){var n;if("string"==typeof e&&(n=getElementById(e)),isArray(t))for(var r=0;r<t.length;r++)n.classList.add(t[r]);else n.classList.add(t)},window.addClassTo=function(e,t){addClass(e,t)},window.removeClass=function(e,t){var n;if("string"==typeof e&&(n=getElementById(e)),isArray(t))for(var r=0;r<t.length;r++)n.classList.remove(t[r]);else n.classList.remove(t)},window.removeClassFrom=function(e,t){removeClass(e,t)},window.hasClass=function(e,t){return isElement(e)?e.classList.contains(t):getElementById(e).classList.contains(t)},window.redirect=function(e){self.location.href=e},window.goFullScreen=function(e){var t=document.body;null!=e&&isElement(e)&&(t=e),t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():console.error("Fullscreen API is not supported.")},window.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.error("Fullscreen API is not supported.")},window.setCookie=function(e,t){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=e+"="+t+";expires="+n.toUTCString()},window.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|)");return t?t[2]:null},window.isChecked=function(e){return document.getElementById(e).checked},window.isNumberKey=function(e){var t=e.which?e.which:event.keyCode;return!(t>31&&(t<48||t>57))},window.removeAllSelectOptions=function(e){for(var t=document.getElementById(e),n=t.options.length-1;n>=0;n--)t.remove(n)},window.clearSelect=function(e){removeAllSelectOptions(e)},window.parseJSONToSelect=function(e,t,n,r){var o;if("string"==typeof t&&!(o=document.getElementById(t)))throw"AFTC.js > parseJSONToSelect() Usage ERROR, Unable to find anything on the DOM with an ID of ["+t+"]";"object"==typeof t&&(o=t),"string"==typeof e&&(e=JSON.parse(e));for(var i=0;i<e.length;i++){var a=e[i][n],s=e[i][r],u=document.createElement("option");u.text=a,u.value=s,o.add(u)}},AFTC.Point=function(e,t){this.x=e||0,this.y=t||0,this.position=function(){return[this.x,this.y]},this.clone=function(){return new AFTC.Point(this.x,this.y)},this.delta=function(e){return[this.x-e.x,this.y-e.y]},this.distance=function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},this.moveTo=function(e,t){return this.x=e,this.y=t,this},this.moveAtAngle=function(e,t){return this.x+=Math.cos(e)*t,this.y+=Math.sin(e)*t,this},this.applyVelocity=function(e){return this.x+=e.vx,this.y+=e.vy,this},this.angleRadians=function(e){var t=e.y-this.y,n=e.x-this.x;return Math.atan2(t,n)},this.angleDeg=function(e){var t=e.y-this.y,n=e.x-this.x;return Math.atan2(t,n)*(180/Math.PI)},this.rotate=function(e,t){var n=Math.cos(t),r=Math.sin(t);return this.x=n*(this.x-e.x)+r*(this.y-e.y)+e.x,this.y=n*(this.y-e.y)-r*(this.x-e.x)+e.y,this}},AFTC.Rectangle=function(e,t,n,r){function o(){this.center=function(){this.center=new AFTC.Point,this.center.x=Math.abs(this.w-this.x)/2,this.center.y=Math.abs(this.h-this.y)/2}()}this.x=e||0,this.y=t||0,this.w=n||0,this.h=r||0,this.center=new AFTC.Point,this.offsetOuter=function(e){var t=new AFTC.Rectangle;t.x=this.x-e,t.y=this.y-e,t.w=this.w+2*e,t.h=this.h+2*e},this.offsetInner=function(e){var t=new AFTC.Rectangle;t.x=this.x+e,t.y=this.y+e,t.w=this.w-2*e,t.h=this.h-2*e},this.setX=function(e){this.x=e,o()},this.setY=function(e){this.y=e,o()},this.setW=function(e){this.w=e,o()},this.setH=function(e){this.h=e,o()},o()},AFTC.Rect=AFTC.Rectangle,AFTC.Velocity=function(e,t){this.vx=e||0,this.vy=t||0,this.flip=function(){return this.vx*=-1,this.vy*=-1,this},this.flipX=function(){return this.vx*=-1,this},this.flipY=function(){return this.vy*=-1,this},this.multiply=function(e){return this.vx*=e,this.vy*=e,this},this.divide=function(e){return this.vx/=e,this.vy/=e,this}},AFTC.Audio=function(){if(!(this instanceof arguments.callee)){throw"Please use new AFTC.Audio({params})",new Error("\nAFTC.Audio: USAGE ERROR: Constructor called as a function.\nPlease use new AFTC.Audio({params})")}var e=function(){var e=this;function r(o){e.loaded=!0;try{e.xhr.removeEventListener("load",r)}catch(o){}e.content_type=e.xhr.getResponseHeader("content-type"),isInString("text/html",e.content_type)&&(e.base64=!0),function(){var e=!0;for(i=0;i<n.preloader.fileCount;i++){var r=n.preloader.files[i];r.loaded||(e=!1)}e&&function(e){var r=!1;t.repeat>0&&(r="\nAFTC.Audio() > Loop Warning\n",r+="When looping or repeating it is recommended that you set the offsetLoop parameter unique for each device and browser and file format as it can vary between them (if in doubt leave it at zero), it will use the classic html5 audio end event and loop timing, which doesn't always have perfect results.\n",r+="\n");r+="AFTC.Audio() > Browser audio format compatibility checks can be found at:\n",r+="FLAC: https://caniuse.com/#search=flac\n",r+="WAV: https://caniuse.com/#search=wav\n",r+="OGG: https://caniuse.com/#search=ogg\n",r+="MP3: https://caniuse.com/#search=mp3\n",r+="\n",r+="TO TURN OFF THESE MESSAGES USE: hideWarnings:true\n",r+="eg. new AFTC.Audio({hideWarnings:true});\n",(r+="\n")&&!t.hideWarnings&&console.warn(r);!function(){if(n.audio=document.createElement("audio"),n.audio.volume=t.volume,n.audio.preload="auto",n.preloader.fileCount>1){for(var e="",r=0;r<n.preloader.fileCount;r++){var o=n.preloader.files[r];e+='<source src="'+o.src+'" type="'+o.content_type+'" />'}n.audio.innerHTML=e}else{var o=n.preloader.files[0];o.base64?n.audio.src=o.xhr.responseText:n.audio.setAttribute("src",o.src)}t.onReady&&t.onReady()}()}()}()}this.src=!1,this.ext=!1,this.content_type=!1,this.base64=!1,this.loaded=!1,this.xhr=new XMLHttpRequest,this.load=function(){this.ext=getFileExtension(this.src),this.xhr.addEventListener("load",r),this.xhr.open("GET",this.src,!0),this.xhr.send()}},t={src:!1,cache:!0,volume:1,repeat:0,preload:!0,offsetLoopBy:0,loopByOffset:!1,onUpdate:!1,onReady:!1,onComplete:!1,hideWarnings:!1};argsToObject(arguments,t);var n={t:0,preloader:{files:[],fileCount:0},browser:{detected:!1,isChrome:!1,isFirefox:!1,isOpera:!1,isSafari:!1,isEdge:!1,isIE:!1},compatibility:{ie:["mp3"],edge:["mp3","ogg","flac","wav"],chrome:["mp3","ogg","flac","wav"],firefox:["mp3","ogg","flac","wav"],opera:["mp3","ogg","flac","wav"],safari:["mp3","wav"]},suppliedExtensions:[],audio:!1,playing:!1,playCount:0,totalPlayCount:0,offsetLoopDuration:0,onPlayTimer:!1};function r(){if(!n.playing)return!1;if(t.onUpdate){var e={audio:n.audio,currentSrc:n.audio.currentSrc,currentTime:n.audio.currentTime,duration:n.audio.duration,offsetLoopDuration:n.offsetLoopDuration,ended:n.audio.ended,playbackRate:n.audio.playbackRate,volume:n.audio.volume,playCount:n.playCount,totalPlayCount:n.totalPlayCount};t.onUpdate(e)}if(n.audio.currentTime>=n.offsetLoopDuration)if(n.playCount++,n.playCount>=n.totalPlayCount){if(clearInterval(n.onPlayTimer),n.onPlayTimer=!1,n.playing=!1,t.onComplete){e={audio:n.audio,currentSrc:n.audio.currentSrc,currentTime:n.audio.currentTime,duration:n.audio.duration,offsetLoopDuration:n.offsetLoopDuration,ended:n.audio.ended,playbackRate:n.audio.playbackRate,volume:n.audio.volume,playCount:n.playCount,totalPlayCount:n.totalPlayCount};t.onComplete(e)}}else n.audio.currentTime=0,n.audio.play(),n.checkInProgress=!1}this.play=function(e){if(!n.audio)return!1;n.offsetLoopDuration=n.audio.duration-t.offsetLoopBy,n.totalPlayCount=t.repeat+1,-1==t.repeat&&(n.totalPlayCount=999999999999999),n.playCount=0,e||(e=0),n.audio.currentTime=e,n.playing=!0,n.audio.play(),n.onPlayTimer=setInterval(r,10)},this.stop=function(){if(clearInterval(n.onPlayTimer),n.audio.pause(),n.onPlayTimer=!1,!n.audio)return!1;n.audio.currentTime=0,n.playing=!1},this.pause=function(){if(n.audio.pause(),clearInterval(n.onPlayTimer),n.onPlayTimer=!1,n.playing=!1,!n.audio)return!1},this.resume=function(){if(!n.audio)return!1;n.playing=!0,n.audio.play(),n.onPlayTimer=setInterval(r,10)},n.browser.detected=!0,n.isChrome=isChrome(),n.isFirefox=isFireFox(),n.isOpera=isOpera(),n.isSafari=isSafari(),n.isEdge=isEdge(),n.isIE=isIE(),isArray(t.src)?n.preloader.fileCount=t.src.length:n.preloader.fileCount=1,n.offsetLoopDuration=n.audio.duration-t.offsetLoopBy,function(){var r;if("string"!=typeof t.src)for(r=0;r<t.src.length;r++){var o=new e;o.src=t.src[r],t.cache||(o.src=o.src+"?r="+getRandomInt(1,99999999)),n.preloader.files.push(o)}else{var o=new e;o.src=t.src,t.cache||(o.src=o.src+"?r="+getRandomInt(1,99999999)),n.preloader.files.push(o)}for(r=0;r<n.preloader.fileCount;r++){var o=n.preloader.files[r];o.load(),n.suppliedExtensions.push(o.ext)}}()},AFTC.Animate=function(e,t){var n={error:{error:!1,msg:""},elementId:!1,element:!1,onComplete:!1,stack:[],stackCount:0,active:{stackIndex:!1,defIndex:!1,definition:!1},state:{started:!1,stopped:!1},onComplete:!1},r=function(){this.type="",this.definitions=[],this.uid=0},o=function(){this.duration=!1,this.start=!1,this.end=!1},i=function(){this.style="",this.valid=!0,this.start={v:!1,rgba:!1,r:!1,g:!1,b:!1,a:!1,suffix:!1},this.end={v:!1,rgba:!1,r:!1,g:!1,b:!1,a:!1,suffix:!1},this.range={v:!1,r:!1,g:!1,b:!1,a:!1},this.step={v:!1,r:!1,g:!1,b:!1,a:!1},this.time={start:!1,end:!1,duration:!1}};function a(e,t,a,s){if("set"!=(e=String(e).toLowerCase())&&"anim"!=e&&"delay"!=e)throw n.error.flag=!0,n.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - unhandled type of ["+e+"]",n.error.msg;var u=isArray(t),l=isArray(a),d=isArray(s);if(u!=l&&u!=d)throw n.error.flag=!0,n.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - please ensure all your params are either arrays or single values",n.error.msg;if(u&&l&&d&&t.length!=a.length&&t.length!=s.length)throw n.error.flag=!0,n.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - please ensure all your params are arrays are the same size",n.error.msg;u||l||d||(t=[t],a=[a],s=[s]);var c=new r;if(c.type=e,n.stackCount++,c.uid="stk"+n.stackCount,"anim"==e||"set"==e){for(var f=0;f<t.length;f++){(m=new i).style=t[f],m.time.duration=1e3*parseFloat(s);var g=a[f];if(p(g)){var w=h(g);m.end.r=w[0],m.end.g=w[1],m.end.b=w[2],m.end.a=w[3],m.end.rgba=!0,m.end.suffix=y(g)}else"html"==m.style.toLowerCase()?m.end.v=g:(m.end.v=parseFloat(g),isNaN(m.end.v)&&(m.end.v=g)),m.end.rgba=!1,m.end.suffix=y(g);c.definitions.push(m)}n.stack.push(c)}else if("delay"==e){var m;(m=new o).duration=1e3*parseFloat(s),c.definitions.push(m),n.stack.push(c)}}function s(){n.state.started=!0,n.state.stopped=!1,n.active.stackIndex=0,n.active.defIndex=0,l=0,d()}var u=2e3,l=0;function d(){if(n.active.stackIndex>=n.stack.length)"function"==typeof n.onComplete&&n.onComplete();else if(l>=u)console.error("AFTC.Animate.selectStack(): ERROR: Run count limit triggered");else{l++,n.active.defIndex=0;var e=n.stack[n.active.stackIndex],t=e.definitions;if(n.active.defIndex=0,"delay"==e.type){var r=e.definitions[0];r.start||(r.start=(new Date).getTime(),r.end=r.start+r.duration),w()}else if("set"==e.type)!function(){for(var e=n.stack[n.active.stackIndex].definitions,t=0;t<e.length;t++){var r=e[t];if("html"==r.style.toLowerCase())n.element.innerHTML=r.end.v;else if(r.end.rgba)o="RGBA("+r.end.r+","+r.end.g+","+r.end.b+","+r.end.a+")",n.element.style[r.style]=o;else{var o=r.end.v+r.end.suffix;n.element.style[r.style]=o}}n.active.stackIndex++,n.active.defIndex=0,d()}();else if("anim"==e.type){for(var o=0;o<t.length;o++)m(o);f=0,g()}else log("PROCESS: ERROR - UNKNOWN type ["+e.type+"]")}}var c=2e3,f=0;function g(){if(f>c)console.error("processAnim(): RUN LIMIT REACHED!");else{f++;for(var e=n.stack[n.active.stackIndex].definitions,t=!0,r=0;r<e.length;r++){var o=e[r],i=(new Date).getTime()-o.time.start,a=0;if(i<o.time.duration){if(o.start.rgba&&o.end.rgba)"ct:"+i+"  v:"+(a="RGBA("+Math.round(o.start.r+o.step.r*i)+","+Math.round(o.start.g+o.step.g*i)+","+Math.round(o.start.b+o.step.b*i)+","+(o.start.a+o.step.a*i).toFixed(2)+")")+"   target:"+("RGBA("+o.end.r+","+o.end.g+","+o.end.b+","+o.end.a.toFixed(2)+")")+"  ","  current:"+("RGBA("+o.start.r+","+o.start.g+","+o.start.b+","+o.start.a.toFixed(2)+")")+"  rs:"+o.step.r+"  ra:"+o.step.a,n.element.style[o.style]=a;else"ct:"+i+"  v:"+(a=o.start.v+o.step.v*i)+"  range:"+o.range.v+"  ","current:"+o.start.v+"  target:"+o.end.v+"  step:"+o.step.v,n.element.style[o.style]=a+o.end.suffix;t=!1}else o.start.rgba&&o.end.rgba?(a="RGBA("+o.end.r+","+o.end.g+","+o.end.b+","+o.end.a.toFixed(2)+")",n.element.style[o.style]=a):("ct:"+i+"  v:"+(a=o.end.v)+"  range:"+o.range.v+"  ","current:"+o.start.v+"  target:"+o.end.v+"  step:"+o.step.v,n.element.style[o.style]=a+o.end.suffix)}t?(n.active.stackIndex++,d()):requestAnimationFrame(g)}}function w(){var e=n.stack[n.active.stackIndex],t=(e.definitions,e.definitions[0]);(new Date).getTime()-t.start<t.duration?requestAnimationFrame(w):(n.active.stackIndex++,n.active.defIndex=0,d())}function m(e){var t=n.stack[n.active.stackIndex],r=t.definitions[e],o=getComputedStyle(n.element)[r.style];if(p(o)){var i=h(o);r.start.r=i[0],r.start.g=i[1],r.start.b=i[2],r.start.a=i[3],r.start.rgba=!0,r.start.suffix=y(o)}else r.start.v=parseFloat(o),r.start.rgba=!1,r.start.suffix=y(o);if("anim"==t.type&&(r.start.rgba&&r.end.rgba?(r.range.r=r.end.r-r.start.r,r.range.g=r.end.g-r.start.g,r.range.b=r.end.b-r.start.b,r.range.a=r.end.a-r.start.a,r.step.r=r.range.r/r.time.duration,r.step.g=r.range.g/r.time.duration,r.step.b=r.range.b/r.time.duration,r.step.a=r.range.a/r.time.duration):(r.range.v=r.end.v-r.start.v,r.step.v=r.range.v/r.time.duration),r.time.start=(new Date).getTime()+0,r.time.end=r.time.start+r.time.duration,r.start.rgba!==r.end.rgba&&r.start.suffix!==r.end.suffix&&"set"!=set))return n.error.flag=!0,n.error.msg="AFTC.js > AFTC.Animate(): Error - Unable to process set or animate for style ["+r.style+"] due to start and end value datatypes not being the same!\n",n.error.msg+="startValueIsRGB:["+r.start.rgba+"]  endValueIsRGB:["+r.end.rgba+"]  ",n.error.msg+="startSuffix:["+r.start.suffix+"]  endSuffix:["+r.end.suffix+"]",console.error(n.error.msg),void(r.valid=!1)}function h(e){e=(e=(e=(e=(e=(e=String(e).toLowerCase()).replace(" ","")).replace("rgba","")).replace("rgb","")).replace("(","")).replace(")",""),parts=e.split(",");for(var t=0;t<parts.length;t++)parts[t]=parseFloat(parts[t]);return 3==parts.length&&parts.push(1),parts}function p(e){return(e=String(e).toLowerCase()).indexOf("rgb")>-1}function y(e){return(e=String(e).toLowerCase()).indexOf("px")>-1?"px":e.indexOf("%")>-1?"%":e.indexOf("rem")>-1?"rem":e.indexOf("em")>-1?"em":e.indexOf("rem")>-1?"rem":""}this.animate=function(e,t,n){return a("anim",e,t,n),this},this.anim=function(e,t,n){return a("anim",e,t,n),this},this.setProp=function(e,t){return a("set",e,t,0),this},this.set=function(e,t){return a("set",e,t,0),this},this.delay=function(e){return a("delay","",0,e),this},this.wait=function(e){return a("delay","",0,e),this},this.pause=function(e){return a("delay","",0,e),this},this.repeat=function(e){s()},this.start=function(){s()},this.stop=function(){stop()},function(){if(n.elementId=e,n.onComplete=t,n.element=getElementById(e),!isElement(n.element))throw n.error.msg="AFTC.js > AFTC.Animate(): Usage error, unable to locate an element with id ["+n.elementId+"] on the DOM!",n.error.msg}()},AFTC.Color=function(){var e={r:!1,g:!1,b:!1,a:!1,hex:!1},t={r:!1,g:!1,b:!1,a:!1};function n(){e.hex=e.hex.replace("#","");var n=e.hex.match(/.{1,2}/g);t.r=i(n[0]),t.g=i(n[1]),t.b=i(n[2]),t.a=1}function r(){t.r=Math.round(255*Math.random()),t.g=Math.round(255*Math.random()),t.b=Math.round(255*Math.random()),t.a=1}function o(e,n,r,o){var i=2.55;function a(e,t){var n=parseInt(100/255*e),r=parseInt(n+t);r>100&&(r=100),r<-100&&(r=-100);var o=Math.ceil(i*r);return o>255&&(o=255),r<0&&(o=0),o}n&&(t.r=a(t.r,e)),r&&(t.g=a(t.g,e)),o&&(t.b=a(t.b,e))}function i(e){return parseInt(e,16)}function a(e){var t=e.toString(16);return 1==t.length?"0"+t:t}argsToObject(arguments,e),this.lighten=function(e,t){if(t){t.r&&t.r,t.g&&t.g,t.b&&t.b,o(e,t.r,t.g,t.b)}else o(e,!0,!0,!0)},this.darken=function(e,t){if(t){t.r&&t.r,t.g&&t.g,t.b&&t.b,o(-e,t.r,t.g,t.b)}else o(-e,!0,!0,!0)},this.randomizeColor=function(){r()},this.getRGBString=function(){return"RGB("+t.r+","+t.g+","+t.b+")"},this.getRGBAString=function(){return"RGBA("+t.r+","+t.g+","+t.b+","+t.a+")"},this.getHexString=function(){var e="#"+a(t.r)+a(t.g)+a(t.b);return e=e.toUpperCase()},this.getHex=function(){return this.getHexString()},this.hex=function(){return this.getHex()},this.getRGB=function(){return{r:t.r,g:t.g,b:t.b}},this.rgb=function(){return this.getRGB()},this.getRGBA=function(){return{r:t.r,g:t.g,b:t.b,a:t.a}},this.rgba=function(){return this.getRGBA()},this.setRGB=function(e,n,r){t.r=e,t.g=n,t.b=r},this.setHex=function(t){e.hex=t,n()},this.setR=function(e){t.r=e},this.r=function(e){t.r=e},this.getR=function(){return t.r},this.setG=function(e){t.g=e},this.g=function(e){t.g=e},this.getG=function(){return t.g},this.setB=function(e){t.b=e},this.b=function(e){t.b=e},this.getB=function(){return t.b},this.setA=function(e){t.a=e},this.a=function(e){t.a=e},this.getA=function(){return t.a},e.hex?(t.hex=e.hex,n()):e.hex||isBool(e.r)||isBool(e.g)||isBool(e.b)||e.a?e.hex||isBool(e.r)||isBool(e.g)||isBool(e.b)||isBool(e.a)?r():(e.r?t.r=e.r:t.r=0,e.g?t.g=e.g:t.g=0,e.b?t.b=e.b:t.b=0,e.a?t.a=e.a:t.a=0):(e.r?t.r=e.r:t.r=0,e.g?t.g=e.g:t.g=0,e.b?t.b=e.b:t.b=0,t.a=1)},window.getRandomColor=function(){return new AFTC.Color},window.getRandomHexColor=function(){return(new AFTC.Color).getHex()},window.getRandomRGBString=function(){return(new AFTC.Color).getRGB()},window.getRandomRGBAString=function(){return(new AFTC.Color).getRGBA()},window.getRandomRGBColor=function(){return(new AFTC.Color).getRGB()},(AFTC=AFTC||{}).Visibility=function(){var e={element:!1,id:!1,delay:!1,duration:!1,onStartStyles:!1,onCompleteStyles:!1,animateHeight:!1,onStartAddClassList:!1,onStartRemoveClassList:!1,onCompleteAddClassList:!1,onCompleteRemoveClassList:!1,onComplete:!1};function t(){!e.element&&e.id&&(e.element=getElementById(e.id))}function n(t){if(isArray(t))for(var n in t){var r=t[n];try{e.element.classList.remove(r)}catch(e){}}else if("string"==typeof t)try{e.element.classList.remove(t)}catch(e){}}function r(t){if(isArray(t))for(var n in t){var r=t[n];try{e.element.classList.add(r)}catch(e){}}else if("string"==typeof t)try{e.element.classList.add(t)}catch(e){}}function o(){e.onStartAddClassList&&r(e.onStartAddClassList),e.onStartRemoveClassList&&n(e.onStartRemoveClassList)}function i(){e.onCompleteAddClassList&&r(e.onCompleteAddClassList),e.onCompleteRemoveClassList&&n(e.onCompleteRemoveClassList)}function a(){if(e.onStartStyles)for(var t in e.onStartStyles){var n=e.onStartStyles[t];try{e.element.style[t]=n}catch(e){}}}function s(){if(e.onCompleteStyles)for(var t in e.onCompleteStyles){var n=e.onCompleteStyles[t];try{e.element.style[t]=n}catch(e){}}}function u(){function n(){e.element.style.transitionDuration="0s",i(),s(),e.onComplete&&e.onComplete()}t(),e.element&&isElement(e.element)&&(o(),a(),e.duration?(e.element.style.height=getComputedStyle(e.element).height,setTimeout(function(){e.element.style.transitionDuration=e.duration+"s",e.element.style.opacity=0},25),e.element.addEventListener("transitionend",function(e){n()},!1)):(e.element.style.display="none",n()))}function l(){function n(){e.element.style.transitionDuration="0s",e.element.style.opacity=1,i(),s(),e.onComplete&&e.onComplete()}t(),e.element&&isElement(e.element)&&(o(),a(),"none"!=e.element.style.display&&""!=e.element.style.display||(e.element.style.display="block"),e.duration?(e.element.style.opacity=0,setTimeout(function(){e.element.style.transitionDuration=e.duration+"s",e.element.style.opacity=1},25),e.element.addEventListener("transitionend",function(e){n()},!1)):n())}return argsToObject(arguments,e),{hide:function(){e.delay?setTimeout(function(){u()},1e3*e.delay):u()},show:function(){e.delay?setTimeout(function(){l()},1e3*e.delay):l()}}},window.show=function(){if("string"==typeof arguments[0]){var e={id:arguments[0]};AFTC.Visibility(e).show()}else if(isElement(arguments[0])){e={element:arguments[0]};AFTC.Visibility(e).show()}else AFTC.Visibility(arguments[0]).show()},window.fadeIn=function(){window.show(arguments[0])},window.hide=function(){if("string"==typeof arguments[0]){var e={id:arguments[0]};AFTC.Visibility(e).hide()}else if(isElement(arguments[0])){e={element:arguments[0]};AFTC.Visibility(e).hide()}else AFTC.Visibility(arguments[0]).hide()},window.fadeOut=function(){window.hide(arguments[0])},(AFTC=AFTC||{}).XHR=function(){var e={url:!1,method:!1,data:!1,dataType:!1,responseType:!1,onComplete:!1,onError:!1,onProgress:!1,onCancel:!1};if(arguments[0]&&"object"==typeof arguments[0])for(var t in arguments[0])e.hasOwnProperty(t)&&(e[t]=arguments[0][t]);var n={url:!1,requestHeader:!1,xhr:!1,readyState:!1,status:!1,responseType:!1,response:null,percentComplete:0,isImage:!1,imageType:""};function r(t,r){return console.error(t),e.onError&&(r?e.onError(r):e.onError(n.xhr)),!1}function o(t){if(n.percentComplete=0,t.lengthComputable?(n.percentComplete=100/t.total*t.loaded,n.percentComplete=parseFloat(n.percentComplete.toFixed(2))):n.percentComplete=0,!e.onProgress)return n.percentComplete;e.onProgress(n.percentComplete)}function i(t){4==n.xhr.readyState?"404"==n.xhr.status?r("AFTC.XHR: ERROR: Please check your URL ["+e.url+"] NOT FOUND.",n.xhr):e.onComplete&&e.onComplete(n.xhr.responseText):r("AFTC.XHR: ERROR: Please review event details!",t)}function a(t){log("AFTC.XHR.transferFailed()"),e.onError&&e.onError(t)}function s(t){log("AFTC.XHR.transferCanceled()"),e.onCancel&&e.onCancel(t)}return function(){if(window.XMLHttpRequest?n.xhr=new XMLHttpRequest:n.xhr=new ActiveXObject("Microsoft.XMLHTTP"),n.xhr.addEventListener("progress",o),n.xhr.addEventListener("load",i),n.xhr.addEventListener("error",a),n.xhr.addEventListener("abort",s),e.method?e.method=String(e.method).toUpperCase():e.method="GET",e.dataType?e.dataType=String(e.dataType).toLowerCase():e.dataType="form","GET"==e.method&&"form"!=e.dataType)return msg="AFTC.XHR: ERROR: GET only supports the 'form' data type (key value pairs eg a=1&b=2)",console.error(msg),e.onError&&e.onError(msg),!1;if("form"!=e.dataType&&"formdata"!=e.dataType&&"json"!=e.dataType&&"array"!=e.dataType&&"object"!=e.dataType)return msg="AFTC.XHR: ERROR: The dataType option only supports 'form', 'formdata', 'json', 'array' or 'object'",console.error(msg),e.onError&&e.onError(msg),!1;if(!e.url)return msg="AFTC.XHR: ERROR: Please specify a URL!",console.error(msg),e.onError&&e.onError(msg),!1;if(e.responseType&&(e.responseType=String(e.responseType).toLowerCase(),-1!=e.responseType.indexOf("json")&&(n.xhr.responseType="json")),e.data)switch(function(){if("GET"==e.method&&0!=e.data)return e.url=e.url+"?"+e.data,!0;if("POST"==e.method)if(e.data.append)e.dataType="formdata";else if(isArray(e.data)||"object"==typeof e.data){var t="",n=new FormData;for(var r in e.data)log(r+" = "+e.data[r]),n.append(r,e.data[r]),t+="&"+r+"="+e.data[r];e.dataType="form",e.data=t}}(),"form"==e.dataType?n.requestHeader="application/x-www-form-urlencoded; charset=utf-8":"formdata"==e.dataType||"json"==e.dataType&&(n.requestHeader="application/json; charset=utf-8"),n.xhr.open(e.method,e.url,!0),n.requestHeader&&n.xhr.setRequestHeader("Content-Type",n.requestHeader),e.method){case"GET":n.xhr.send();break;default:n.xhr.send(e.data)}else n.xhr.open(e.method,e.url,!0),n.xhr.send()}(),{url:e.url,method:e.method,data:e.data,dataType:e.dataType,xhr:n.xhr,readyState:n.readyState,status:n.status,response:n.response,responseType:n.responseType}};