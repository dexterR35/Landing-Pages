<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.10.1/firebase-app.js"
      integrity="sha512-sCJFpHskKYilruIcNvzgrvdl8+Vb2WLL06J7p7aqU84TRci8HZCf1+SEgZlRL5h2JKCzTRicBi3vwB5Ngk6HDA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.10.1/firebase-analytics.min.js"
      integrity="sha512-ej+u6hrtLN0ajEfUSkNAt/achTk0n2YAFztybsq++FriLa+os+0hsSLq1DoRDTo0jenrLJI3j+6Ex9SFakGYWw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.10.1/firebase-database.min.js"
      integrity="sha512-XDKFSZOhFNmwmx69Xr0j3zmePQ3NoSgpzZPr49P6oV7ME5ZhEXUqu+KUA0vQtof87P6IX+ycg4PmSms/EF8/pw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>Document</title>
  </head>
  <body>
    <div id="myButton">click me</div>
  </body>

  <script>
    console.log("start Firebase......");
    // your page initialization code here
    // the DOM will be available here
    var firebaseConfig = {
      apiKey: "AIzaSyCJXMEDmElqSHLecUwdbOrsgCwiH9Zdqrs",
      authDomain: "trackbtn.firebaseapp.com",
      databaseURL:
        "https://trackbtn-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "trackbtn",
      storageBucket: "trackbtn.appspot.com",
      messagingSenderId: "783802189312",
      appId: "1:783802189312:web:d36c62b0522ecfd714bae5",
      measurementId: "G-CPT4F38ZMG",
    };
    // Initialize Firebase

    //var keytext = getElementById("keytext2");

    // display data from db

    firebase.initializeApp(firebaseConfig);
    // firebase.analytics();

    var dbRef = firebase.database();
    var counter = 1;

    console.log("Start: Welcome To FA Motor Repair!");
    console.log("Middle: saveData");
    // Reference the button in the HTML
    var button_one = document.getElementById("myButton");
    // Add an event listener for the button click
    button_one.addEventListener("click", saveData);

    function saveData() {
      var contRef = dbRef.ref("/pages/lp-craciun/clickCount");
      // console.log(uidKey, "is set...Please continue");
      // Use a transaction to increment the value and save it back to the database
      contRef.transaction(function (currentValue) {
        return (currentValue || 0) + 1;
      });
    }

    // function saveData() {
    //     var checkBox = document.getElementById("myCheck");
    //     console.log("clicked succesfully on Button");
    //     if (checkBox.checked == true && $("#fname").val() !== "") {
    //         var contactsRef = dbRef.ref("/contacts").push();
    //         var uidKey = contactsRef.key;
    //         var counterAll = counter;
    //         console.log(uidKey, "is set...Please continue");
    //         contactsRef.set({
    //                 First_name: $("#fname").val().trim(),
    //                 Second_name: $("#lname").val().trim(),

    //                 startedAt: firebase.database.ServerValue.TIMESTAMP,
    //                 user_key: uidKey,
    //                 ID_contacts: counterAll
    //             })
    //             .then(function() {
    //                 console.log("Document successfully written in Data Base!", counter);
    //                 // $("#contactForm").trigger("reset");
    //                 console.log("reset Form");
    //             })
    //             .then(function() {
    //                 // $('.success-message').show();
    //                 console.log("Show Message Succes!");
    //                 setTimeout(function() {
    //                     $('.success-message').hide();
    //                     console.log("Hide Message Succes");
    //                 }, 2000);
    //             })
    //             .catch(function(error) {
    //                 console.log("Something is wrong with Data: ", error);
    //             });
    //     } else {
    //         // elseData();
    //         console.log("Please Check the box");
    //     }
    // }
    //   const button = document.getElementById("myButton");
    //   const database = firebase.database();
    // button.onclick = function() {

    //     firebase.database().ref('counter').set(firebase.database.ServerValue.increment(1));
    // };

    // firebase.database().ref('counter').on('value', function(snapshot) {
    //     var badge = document.getElementById("badge-value");
    //     badge.innerHTML = "Download: " + snapshot.val();
    // });

    // button.addEventListener("click", function() {
    //   // Code to collect IP address and track clicks goes here
    //   fetch("https://httpbin.org/ip")
    //   .then(response => response.json())
    //   .then(data => {
    //     const userIP = data.origin;
    //     console.log(userIP);
    //   });

    // });

    // fetch("https://httpbin.org/ip")
    //   .then(response => response.json())
    //   .then(data => {
    //     const userIP = data.origin;
    //     console.log(userIP);
    //   });
  </script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.15.0/firebase-app.js" integrity="sha512-KakHaWvNgg3Mo/LptevcdwXzAmSFCFHrsvRUIRbUb++of57rXmIPQiAmpEeqaEdvhVk0ljxT2FpQk+wvP+j5LQ==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script> -->
</html>
